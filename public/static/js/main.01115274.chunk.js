(this["webpackJsonpironhack-last-project"]=this["webpackJsonpironhack-last-project"]||[]).push([[0],{108:function(e,t,n){},139:function(e,t,n){},179:function(e,t,n){},180:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(1),r=n.n(i),c=n(18),s=n.n(c),o=(n(139),n(20)),l=n(26),d=n(25),u=r.a.createContext(),h=function(e){return function(t){return Object(a.jsx)(u.Consumer,{children:function(n){return Object(a.jsx)(e,Object(d.a)(Object(d.a)({},t),{},{context:n}))}})}},j=n(112),b=n.n(j).a.create({baseURL:"https://calendar-team.herokuapp.com",withCredentials:!0});function p(e){if(e.response.data)throw console.log(e.response&&e.response.data),e;throw e}var m={service:b,signup:function(e){return b.post("/api/auth/signup",e).then((function(e){return e.data})).catch(p)},signin:function(e){return b.post("/api/auth/signin",e).then((function(e){return e.data})).catch(p)},isLoggedIn:function(){return b.get("/api/auth/isLoggedIn").then((function(e){return e.data})).catch(p)},logout:function(){return b.get("/api/auth/logout").then((function(e){return e.data})).catch(p)},get:function(e){return this.service.get(e)},removeUser:function(e){return b.delete("api/user/".concat(e)).then((function(e){return e.data})).catch(p)},patch:function(e,t){return this.service.patch(e,t)},post:function(e,t){return this.service.post(e,t)},delete:function(e,t){return this.service.delete(e,t)}},O=n(11),g=n(12),f=n(14),x=n(13),v=n(233),y=n(260),C=n(238),S=n(236),w=n(237),k=n(235),I=n(21),T=n(258),N=n(234),L=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={email:"",password:""},e.handleChange=function(t){var n=t.target.name,a=t.target.value;e.setState(Object(I.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault(),console.log("hello"),m.signin(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/profile")})).catch((function(e){console.log(e)}))},e}return Object(g.a)(n,[{key:"render",value:function(){return this.context.user?Object(a.jsx)(o.a,{to:"/"}):Object(a.jsx)("div",{children:Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onChange:this.handleChange,onSubmit:this.handleSubmit,children:[Object(a.jsx)(T.a,{id:"outlined-password-input",label:"email",type:"email",autoComplete:"current-password",variant:"outlined",name:"email"}),Object(a.jsx)("br",{}),Object(a.jsx)(T.a,{id:"outlined-password-input",label:"Password",type:"password",autoComplete:"current-password",variant:"outlined",name:"password"}),Object(a.jsx)("br",{}),Object(a.jsx)(v.a,{variant:"contained",color:"primary",type:"submit",endIcon:Object(a.jsx)(N.a,{children:"send"}),children:"Login"})]})})})}}]),n}(i.Component);L.contextType=u;var P=Object(o.g)(L),D=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={open:!1},e.handleToggle=function(){e.setState({open:!e.state.open})},e}return Object(g.a)(n,[{key:"render",value:function(){var e=this.state.open;return Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a,{variant:"outlined",color:"primary",onClick:this.handleToggle,children:"Sign in"}),Object(a.jsxs)(y.a,{open:e,onClose:this.handleToggle,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(k.a,{id:"form-dialog-title",children:"Signin"}),Object(a.jsxs)(S.a,{children:[Object(a.jsx)(w.a,{children:"Please signin"}),Object(a.jsx)(P,{})]}),Object(a.jsx)(C.a,{})]})]})}}]),n}(i.Component),_=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).handleChange=function(t){var n=t.target.value,a=t.target.name;e.setState(Object(I.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault(),m.signup(e.state).then((function(t){e.context.setUser(t)})).catch((function(e){console.log(e)}))},e}return Object(g.a)(n,[{key:"render",value:function(){return this.context.user?Object(a.jsx)(o.a,{to:"/"}):Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onChange:this.handleChange,onSubmit:this.handleSubmit,children:[Object(a.jsx)(T.a,{id:"outlined-text-input",label:"First Name",type:"text",autoComplete:"current-password",variant:"outlined",name:"firstName"}),Object(a.jsx)("br",{}),Object(a.jsx)(T.a,{id:"outlined-text-input",label:"Last Name",type:"text",autoComplete:"current-password",variant:"outlined",name:"lastName"}),Object(a.jsx)("br",{}),Object(a.jsx)(T.a,{id:"outlined-email-input",label:"Email",type:"email",autoComplete:"current-password",variant:"outlined",name:"email"}),Object(a.jsx)("br",{}),Object(a.jsx)(T.a,{id:"outlined-password-input",label:"Password",type:"password",autoComplete:"current-password",variant:"outlined",name:"password"}),Object(a.jsx)("br",{}),Object(a.jsx)(v.a,{variant:"contained",color:"primary",type:"submit",endIcon:Object(a.jsx)(N.a,{children:"send"}),children:"Sign up"})]})})}}]),n}(i.Component);_.contextType=u;var A=Object(o.g)(_),E=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={open:!1},e.handleToggle=function(){e.setState({open:!e.state.open})},e}return Object(g.a)(n,[{key:"render",value:function(){var e=this.state.open;return Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a,{variant:"contained",color:"primary",onClick:this.handleToggle,children:"Sign up"}),Object(a.jsxs)(y.a,{open:e,onClose:this.handleToggle,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(k.a,{id:"form-dialog-title",children:"Signup"}),Object(a.jsxs)(S.a,{children:[Object(a.jsx)(w.a,{children:"Please fillup the from to sign up"}),Object(a.jsx)(A,{})]}),Object(a.jsx)(C.a,{})]})]})}}]),n}(i.Component),U=(n(108),h((function(e){var t=e.context;return Object(a.jsxs)("nav",{className:"NavMain",children:[Object(a.jsx)(l.b,{exact:!0,to:"/",children:"Calendar"}),Object(a.jsxs)("ul",{className:"nav-list",children:[t.isLoggedIn&&Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)("li",{children:Object(a.jsx)(l.b,{to:"/scheduler",children:"Scheduler"})}),Object(a.jsx)("li",{children:Object(a.jsx)(l.b,{to:"/team",children:"Manage Teams"})}),Object(a.jsx)("li",{children:Object(a.jsx)(l.b,{to:"/user",children:"Manage Users"})}),Object(a.jsx)("li",{children:Object(a.jsx)(l.b,{to:"/profile",children:t.user&&t.user.email})}),Object(a.jsx)("li",{children:Object(a.jsx)("p",{onClick:function(){m.logout().then((function(){t.removeUser()})).catch((function(e){console.log(e)}))},children:"Logout"})})]}),!t.isLoggedIn&&Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)("li",{children:Object(a.jsx)(D,{})}),Object(a.jsx)("li",{children:Object(a.jsx)(E,{})})]})]})]})}))),F=n(244),M=n(247),V=n(246),R=n(245),B=n(241),q=n(243),z=n(52),W=n(239),H=n(240),Y=n(242);function G(e){return Object(a.jsxs)(z.a,Object(d.a)(Object(d.a)({variant:"body2",color:"textSecondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(a.jsx)(W.a,{color:"inherit",href:"#",children:"Calendar"})," ",(new Date).getFullYear(),"."]}))}var J=Object(H.a)((function(e){return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},link:{margin:e.spacing(1,1.5)},heroContent:{padding:e.spacing(8,0,6)},cardHeader:{color:"white",backgroundColor:"light"===e.palette.mode?e.palette.grey[200]:e.palette.grey[700]},cardPricing:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)},footer:Object(I.a)({borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},e.breakpoints.up("sm"),{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)})}})),K=[{title:"Free",price:"0",description:["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris mi libero, egestas vel est ut, vestibulum ultricies dolor. Nullam ac tristique est, eu maximus sem. Nunc lacus ipsum, eleifend nec mi malesuada"],buttonText:"Sign up for free",buttonVariant:"outlined"},{title:"Don't know what to do as a Homepage",subheader:"Most popular",price:"0",description:["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris mi libero, egestas vel est ut, vestibulum ultricies dolor. Nullam ac tristique est, eu maximus sem. Nunc lacus ipsum, eleifend nec mi malesuada"],buttonText:"Get started",buttonVariant:"contained"},{title:"What day it is ?",price:"42",description:["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris mi libero, egestas vel est ut, vestibulum ultricies dolor. Nullam ac tristique est, eu maximus sem. Nunc lacus ipsum, eleifend nec mi malesuada"],buttonText:"Contact us",buttonVariant:"outlined"}],$=[{title:"Link ",description:["Link","Link","More Link","More Link"]},{title:"A beautiful list of link",description:["Not enough link","Link","a Link"]},{title:"List of Link",description:["Do you like link ?","there's your link","Am I a link ?"]},{title:"List of Link",description:["Link","Link"]}];function Q(){var e=J();return Object(a.jsxs)(i.Fragment,{children:[Object(a.jsx)(B.a,{}),Object(a.jsxs)(Y.a,{maxWidth:"sm",component:"main",className:e.heroContent,children:[Object(a.jsx)(z.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"Iron Team Scheduler"}),Object(a.jsx)(z.a,{variant:"h5",align:"center",color:"textSecondary",component:"p",children:"Plan the work of your different teams with this awesome app"})]}),Object(a.jsx)(Y.a,{maxWidth:"md",component:"main",children:Object(a.jsx)(q.a,{container:!0,spacing:5,alignItems:"flex-end",children:K.map((function(t){return Object(a.jsx)(q.a,{item:!0,xs:12,sm:"Enterprise"===t.title?12:6,md:4,children:Object(a.jsxs)(F.a,{children:[Object(a.jsx)(R.a,{title:t.title,subheader:t.subheader,titleTypographyProps:{align:"center"},subheaderTypographyProps:{align:"center"},className:e.cardHeader}),Object(a.jsxs)(V.a,{children:[Object(a.jsx)("div",{className:e.cardPricing,children:Object(a.jsxs)(z.a,{component:"h2",variant:"h3",color:"textPrimary",children:["$",t.price]})}),Object(a.jsx)("ul",{children:t.description.map((function(e){return Object(a.jsx)(z.a,{component:"li",variant:"subtitle1",align:"center",children:e},e)}))})]}),Object(a.jsx)(M.a,{children:Object(a.jsx)(v.a,{fullWidth:!0,variant:t.buttonVariant,children:t.buttonText})})]})},t.title)}))})}),Object(a.jsxs)(Y.a,{maxWidth:"md",component:"footer",className:e.footer,children:[Object(a.jsx)(q.a,{container:!0,spacing:4,justifyContent:"space-evenly",children:$.map((function(e){return Object(a.jsxs)(q.a,{item:!0,xs:6,sm:3,children:[Object(a.jsx)(z.a,{variant:"h6",color:"textPrimary",gutterBottom:!0,children:e.title}),Object(a.jsx)("ul",{children:e.description.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(W.a,{href:"#",variant:"subtitle1",color:"textSecondary",children:e})},e)}))})]},e.title)}))}),Object(a.jsx)(G,{sx:{mt:5}})]})]})}var X=function(e){return Object(a.jsx)(P,{})},Z=function(e){return Object(a.jsx)(A,{})},ee=n(121),te=h((function(e){var t=e.component,n=e.context,i=Object(ee.a)(e,["component","context"]);return n.isLoading?null:n.isLoggedIn?Object(a.jsx)(o.b,Object(d.a)(Object(d.a)({},i),{},{render:function(e){return Object(a.jsx)(t,Object(d.a)({},e))}})):Object(a.jsx)(o.a,{to:"/signin"})})),ne=h((function(e){return Object(a.jsx)("div",{children:Object(a.jsxs)("h1",{children:["Welcome ",e.context.user.firstName]})})})),ae=n(50),ie=n(39),re=n(252),ce=n(253),se=n(250),oe=n(251),le=n(248),de=n(259),ue=n(249),he=n(262),je=n(184),be=n(254),pe=n(255),me=n(263),Oe=n(67),ge=n.n(Oe),fe=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={},e.handleChange=function(t){var n=t.target.name,a=t.target.value;e.setState(Object(I.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault();var n=e.props.id;m.patch("/api/user/"+n,{firstName:e.state.firstName,lastName:e.state.lastName,team:e.state.team}).then((function(){window.location.reload()})).catch((function(e){console.log(e)}))},e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.id;m.get("/api/user/"+t).then((function(t){console.log(t);var n=t.data;e.setState({firstName:n.firstName,lastName:n.lastName,email:n.email})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(a.jsxs)("form",{onChange:this.handleChange,onSubmit:this.handleSubmit,children:[Object(a.jsx)("h2",{style:{marginBottom:"30px"},children:"Edit a user "}),Object(a.jsxs)(T.a,{id:"standard-basic",label:"First Name",type:"text",InputLabelProps:{shrink:!0},variant:"outlined",name:"firstName",value:this.state.firstName,children:[" ",this.state.firstName]}),Object(a.jsx)("br",{}),Object(a.jsxs)(T.a,{id:"standard-basic",label:"Last name",type:"text",InputLabelProps:{shrink:!0},variant:"outlined",name:"lastName",value:this.state.lastName,children:[" ",this.state.lastName]}),Object(a.jsx)("br",{}),Object(a.jsxs)(T.a,{id:"standard-basic",label:"Last name",type:"text",InputLabelProps:{shrink:!0},variant:"outlined",name:"lastName",value:this.state.email,children:[" ",this.state.email]}),Object(a.jsx)("br",{}),Object(a.jsx)(v.a,{variant:"contained",color:"primary",type:"submit",endIcon:Object(a.jsx)(N.a,{children:"send"}),children:"Update"})]})}}]),n}(r.a.Component),xe=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={open:!1,id:""},e.handleToggle=function(){console.log(e.props.id),e.setState({open:!e.state.open,id:e.props.id})},e}return Object(g.a)(n,[{key:"render",value:function(){var e=this.state.open;return Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a,{variant:"outlined",color:"primary",onClick:this.handleToggle,children:"update"}),Object(a.jsxs)(y.a,{open:e,onClose:this.handleToggle,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(k.a,{id:"form-dialog-title",children:"User Edit"}),Object(a.jsxs)(S.a,{children:[Object(a.jsx)(w.a,{children:"Please fillup the form to edit the user"}),Object(a.jsx)(fe,{id:this.state.id})]}),Object(a.jsx)(C.a,{})]})]})}}]),n}(i.Component),ve=n(115),ye=n(261),Ce=n(60),Se=n.n(Ce),we=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={data:[],account:{team:"",firstName:"",lastName:"",email:""},errors:{}},e.schema={firstName:Se.a.string().required().label("First name"),lastName:Se.a.string().required().label("Last name"),email:Se.a.string().email().required().label("Email"),team:Se.a.string().required().label("Team")},e.validate=function(){var t=Se.a.validate(e.state.account,e.schema,{abortEarly:!1});if(console.log(t),!t.error)return null;var n,a={},i=Object(ve.a)(t.error.details);try{for(i.s();!(n=i.n()).done;){var r=n.value;a[r.path[0]]=r.message}}catch(c){i.e(c)}finally{i.f()}return a},e.validateProperty=function(t){var n=t.target.value,a=t.target.name,i=Object(I.a)({},a,n),r=Object(I.a)({},a,e.schema[a]),c=Se.a.validate(i,r).error;return c?c.details[0].message:null},e.handleChange=function(t){var n=Object(d.a)({},e.state.errors),a=e.validateProperty(t);a?n[t.target.name]=a:delete n[t.target.name];var i=Object(d.a)({},e.state.account),r=t.target.value;i[t.target.name]=r,e.setState({account:i,errors:n})},e.handleSubmit=function(t){t.preventDefault();var n=e.validate();e.setState({errors:n||{}}),n||(m.post("/api/user/create",e.state).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),window.location.reload())},e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this;m.get("/api/team").then((function(t){var n=t.data;e.setState({data:n}),console.log(e.state)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.errors;return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onChange:this.handleChange,onSubmit:this.handleSubmit,children:[Object(a.jsx)(T.a,Object(d.a)({id:"outlined-text-input",label:"First Name",type:"text",autoComplete:"current-password",variant:"outlined",name:"firstName"},e.firstName&&{error:!0,label:e.firstName,variant:"outlined",id:"outlined-error-helper-text",defaultValue:e.firstName})),Object(a.jsx)("br",{}),Object(a.jsx)(T.a,Object(d.a)({id:"outlined-text-input",label:"Last Name",type:"text",autoComplete:"current-password",variant:"outlined",name:"lastName"},e.lastName&&{error:!0,label:e.lastName,variant:"outlined",id:"outlined-error-helper-text",defaultValue:e.lastName})),Object(a.jsx)("br",{}),Object(a.jsx)(T.a,Object(d.a)({id:"outlined-email-input",label:"Email",type:"email",autoComplete:"current-password",variant:"outlined",name:"email"},e.email&&{error:!0,label:e.email,variant:"outlined",id:"outlined-error-helper-text",defaultValue:e.email})),Object(a.jsx)("br",{}),Object(a.jsx)(T.a,{id:"outlined-select-currency",label:"Choose your team",select:!0,variant:"outlined",name:"team",onChange:this.handleChange,children:this.state.data.map((function(e){return Object(a.jsx)(ye.a,{value:e.id.toLowerCase(),children:e.title},e.title.toLowerCase())}))}),Object(a.jsx)("br",{}),Object(a.jsx)(v.a,Object(d.a)(Object(d.a)({variant:"contained",color:"primary",type:"submit",endIcon:Object(a.jsx)(N.a,{children:"send"})},this.validate()&&{disabled:!0}),{},{children:"Create"}))]})})}}]),n}(i.Component);we.contextType=u;var ke=Object(o.g)(we),Ie=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={open:!1},e.handleToggle=function(){e.setState({open:!e.state.open})},e}return Object(g.a)(n,[{key:"render",value:function(){var e=this.state.open;return Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a,{variant:"contained",color:"primary",onClick:this.handleToggle,children:"Create a user"}),Object(a.jsxs)(y.a,{open:e,onClose:this.handleToggle,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(k.a,{id:"form-dialog-title",children:"Create a user"}),Object(a.jsxs)(S.a,{children:[Object(a.jsx)(w.a,{children:"Please fillup the form to add a user"}),Object(a.jsx)(ke,{})]}),Object(a.jsx)(C.a,{})]})]})}}]),n}(i.Component);function Te(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function Ne(e,t){return"desc"===e?function(e,n){return Te(e,n,t)}:function(e,n){return-Te(e,n,t)}}function Le(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var Pe=[{id:"firstName",numeric:!1,disablePadding:!0,label:"First name"},{id:"lastName",numeric:!1,disablePadding:!1,label:"Last name"},{id:"email",numeric:!1,disablePadding:!1,label:"Email"},{id:"team",numeric:!1,disablePadding:!1,label:"Team"},{id:"update",numeric:!1,disablePadding:!1,label:"Update"},{id:"delete",numeric:!1,disablePadding:!1,label:"Delete"}];function De(e){var t=e.classes,n=e.order,i=e.orderBy,r=e.onRequestSort;return Object(a.jsx)(le.a,{children:Object(a.jsx)(ue.a,{children:Pe.map((function(e){return Object(a.jsx)(se.a,{align:"center",padding:e.disablePadding?"none":"default",sortDirection:i===e.id&&n,children:Object(a.jsxs)(he.a,{active:i===e.id,direction:i===e.id?n:"asc",onClick:(c=e.id,function(e){r(e,c)}),children:[e.label,i===e.id?Object(a.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var c}))})})}var _e=Object(H.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function Ae(){var e=Object(i.useState)([]),t=Object(ie.a)(e,2),n=t[0],c=t[1];Object(i.useEffect)((function(){m.get("/api/user/teams").then((function(e){console.log(e),c(e.data)})).catch((function(e){console.log(e)}))}),[]);var s=Object(ae.a)(n),o=_e(),l=r.a.useState("asc"),d=Object(ie.a)(l,2),u=d[0],h=d[1],j=r.a.useState("firstName"),b=Object(ie.a)(j,2),p=b[0],O=b[1],g=r.a.useState([]),f=Object(ie.a)(g,2),x=f[0],v=f[1],y=r.a.useState(0),C=Object(ie.a)(y,2),S=C[0],w=C[1],k=r.a.useState(!1),I=Object(ie.a)(k,2),T=I[0],N=I[1],L=r.a.useState(5),P=Object(ie.a)(L,2),D=P[0],_=P[1],A=D-Math.min(D,s.length-S*D);return Object(a.jsxs)("div",{className:o.root,children:[Object(a.jsxs)(je.a,{className:o.paper,children:[Object(a.jsx)(Ie,{}),Object(a.jsx)(oe.a,{children:Object(a.jsxs)(re.a,{className:o.table,"aria-labelledby":"tableTitle",size:T?"small":"medium","aria-label":"enhanced table",children:[Object(a.jsx)(De,{classes:o,numSelected:x.length,order:u,orderBy:p,onSelectAllClick:function(e){if(e.target.checked){var t=s.map((function(e){return e.id}));v(t)}else v([])},onRequestSort:function(e,t){h(p===t&&"asc"===u?"desc":"asc"),O(t)},rowCount:s.length}),Object(a.jsxs)(ce.a,{children:[Le(s,Ne(u,p)).slice(S*D,S*D+D).map((function(e,t){var i="enhanced-table-checkbox-".concat(t);return Object(a.jsxs)(ue.a,{children:[Object(a.jsx)(se.a,{align:"center",component:"th",id:i,scope:"row",padding:"none",children:e.firstName}),Object(a.jsx)(se.a,{align:"center",children:e.lastName}),Object(a.jsx)(se.a,{align:"center",children:e.email}),Object(a.jsx)(se.a,{style:{color:0!==e.team.length?e.team[0].title.toLowerCase():"black"},align:"center",children:0!==e.team.length?e.team[0].title:"No team"}),Object(a.jsx)(se.a,{align:"center",children:Object(a.jsx)(xe,{id:e.id})}),Object(a.jsx)(se.a,{align:"center",children:Object(a.jsx)(be.a,{"aria-label":"delete",onClick:function(){return function(e){var t=n.filter((function(t){return t.id!==e}));c(t),m.removeUser(e).then((function(e){m.get("/api/user/teams").then((function(e){console.log("coucou ==>",e),c(e.data)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}(e.id)},children:Object(a.jsx)(ge.a,{})})})]},e.id)})),A>0&&Object(a.jsx)(ue.a,{style:{height:(T?33:53)*A},children:Object(a.jsx)(se.a,{colSpan:6})})]})]})}),Object(a.jsx)(de.a,{rowsPerPageOptions:[5,10,25],component:"div",count:s.length,rowsPerPage:D,page:S,onChangePage:function(e,t){w(t)},onChangeRowsPerPage:function(e){_(parseInt(e.target.value,10)),w(0)}})]}),Object(a.jsx)(pe.a,{control:Object(a.jsx)(me.a,{checked:T,onChange:function(e){N(e.target.checked)}}),label:"Dense padding"})]})}var Ee=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onChange:this.props.onChange,onSubmit:this.props.onSubmit,children:[Object(a.jsx)(T.a,{id:"outlined-select-currency",label:"Choose a user",select:!0,variant:"outlined",name:"user",onChange:this.props.onChange,children:this.props.dataFiltered.map((function(e){return Object(a.jsxs)(ye.a,{value:e.id.toLowerCase(),children:[e.firstName," ",e.lastName]},e.id.toLowerCase())}))}),Object(a.jsx)("br",{}),Object(a.jsx)(T.a,{id:"outlined-select-currency",label:"Choose a team",select:!0,variant:"outlined",name:"team",onChange:this.props.onChange,children:this.props.data_team.map((function(e){return Object(a.jsx)(ye.a,{value:e.id.toLowerCase(),children:e.title},e.title.toLowerCase())}))}),Object(a.jsx)("br",{}),Object(a.jsx)(v.a,{variant:"contained",color:"primary",type:"submit",endIcon:Object(a.jsx)(N.a,{children:"add"}),children:"Add"})]})})}}]),n}(i.Component),Ue=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={open:!1},e.handleToggle=function(){e.setState({open:!e.state.open})},e}return Object(g.a)(n,[{key:"render",value:function(){var e=this.state.open;return Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a,{variant:"contained",color:"primary",onClick:this.handleToggle,children:"Add a user to a team"}),Object(a.jsxs)(y.a,{open:e,onClose:this.handleToggle,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(k.a,{id:"form-dialog-title",children:"Add"}),Object(a.jsxs)(S.a,{children:[Object(a.jsx)(w.a,{children:"Please fillup the from to add a user to a team"}),Object(a.jsx)(Ee,{onChange:this.props.handleChange,onSubmit:this.props.handleAddUserSubmit,dataFiltered:this.props.dataFiltered,data_team:this.props.dataTeam})]}),Object(a.jsx)(C.a,{})]})]})}}]),n}(i.Component),Fe=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onChange:this.props.handleChange,onSubmit:this.props.handleSubmit,children:[Object(a.jsx)(T.a,{id:"outlined-text-input",label:"Team name",type:"text",autoComplete:"current-password",variant:"outlined",name:"title"}),Object(a.jsx)("br",{}),Object(a.jsx)(v.a,{variant:"contained",color:"primary",type:"submit",endIcon:Object(a.jsx)(N.a,{children:"send"}),children:"Create Team"})]})})}}]),n}(i.Component),Me=Object(o.g)(Fe),Ve=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={open:!1},e.handleToggle=function(){e.setState({open:!e.state.open})},e}return Object(g.a)(n,[{key:"render",value:function(){var e=this.state.open;return Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a,{variant:"contained",color:"primary",onClick:this.handleToggle,children:"Create a team"}),Object(a.jsxs)(y.a,{open:e,onClose:this.handleToggle,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(k.a,{id:"form-dialog-title",children:"Team"}),Object(a.jsxs)(S.a,{children:[Object(a.jsx)(w.a,{children:"Please fillup the form to create a team"}),Object(a.jsx)(Me,{handleChange:this.props.handleChange,handleSubmit:this.props.handleSubmit})]}),Object(a.jsx)(C.a,{})]})]})}}]),n}(i.Component),Re=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"input-group input-group mb-2",children:[Object(a.jsx)("div",{className:"input-group-prepend",children:Object(a.jsx)("span",{className:"input-group-text",id:"inputGroup-sizing-sm"})}),Object(a.jsx)("input",{onChange:this.props.onSearch,type:"text",className:"form-control",name:"search","aria-label":"Small",placeholder:"Search...","aria-describedby":"inputGroup-sizing-sm",style:{marginTop:"13px"}})]})})}}]),n}(i.Component),Be=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={},e}return Object(g.a)(n,[{key:"render",value:function(){var e=this.props.teamId,t=this.props.data.data_team.filter((function(t){return t.id===e}));return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onChange:this.props.onChange,onSubmit:this.props.onSubmit,children:[Object(a.jsx)(T.a,{id:"outlined-select-text",label:"Choose a user",select:!0,variant:"outlined",name:"userId",onChange:this.props.onChange,children:t[0].userId.map((function(e){return Object(a.jsxs)(ye.a,{value:e.id,children:[e.firstName," ",e.lastName]},e.id)}))}),Object(a.jsx)("br",{}),Object(a.jsx)(T.a,{id:"outlined-select-text",label:"Choose your team",select:!0,variant:"outlined",name:"teamId",onChange:this.props.onChange,children:this.props.data.data_team.map((function(e){return Object(a.jsx)(ye.a,{value:e.id.toLowerCase(),children:e.title},e.title.toLowerCase())}))}),Object(a.jsx)("br",{}),Object(a.jsx)(v.a,{variant:"contained",color:"primary",type:"submit",endIcon:Object(a.jsx)(N.a,{children:"send"}),children:"Update"})]})})}}]),n}(r.a.Component),qe=n(116),ze=n.n(qe),We=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={open:!1},e.handleToggle=function(){e.setState({open:!e.state.open})},e}return Object(g.a)(n,[{key:"render",value:function(){var e=this.state.open;return Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a,{variant:"contained",color:"default",onClick:this.handleToggle,endIcon:Object(a.jsx)(N.a,{children:Object(a.jsx)(ze.a,{fontSize:"small"})}),children:"Update"}),Object(a.jsxs)(y.a,{open:e,onClose:this.handleToggle,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(k.a,{id:"form-dialog-title",children:"Update"}),Object(a.jsxs)(S.a,{children:[Object(a.jsx)(w.a,{children:"Please fillup the form to edit the team"}),Object(a.jsx)(Be,{data:this.props.data,onChange:this.props.onChange,onSubmit:this.props.onSubmit,teamId:this.props.teamId})]}),Object(a.jsx)(C.a,{})]})]})}}]),n}(i.Component),He=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={datafiltered:[],data_team:[],previousTeamid:""},e.handleDelete=function(t){var n=Object(ae.a)(e.state.data_team).filter((function(e){return e.id!==t}));e.setState({data_team:n}),m.delete("/api/team/".concat(t)).then((function(t){console.log("step1 ===>",t),m.get("/api/user").then((function(t){if(200===t.status){console.log("res2 ===>",t);var n=t.data.filter((function(e){return 0===e.team.length}));console.log("datafiltered from delete===>",n),e.setState({datafiltered:n})}else window.location.reload()}))})).catch((function(e){console.log(e)}))},e.AddUserSubmit=function(t){t.preventDefault();var n={team_Id:e.state.team,user_Id:e.state.user};m.post("/api/team/add",n).then((function(t){console.log(t),e.setState({data_team:t.data}),m.get("/api/user").then((function(t){var n=t.data.filter((function(e){return 0===e.team.length}));console.log(n),e.setState({datafiltered:n})}))})).catch((function(e){console.log(e)}))},e.handleSearch=function(t){var n,a=t.target.value;n=Object(ae.a)(e.state.data_team).filter((function(e){return e.title.toLowerCase().includes(a.toLowerCase())})),e.setState({data_team:n})},e.TeamCreateSubmit=function(t){t.preventDefault(),console.log(e.state),m.post("/api/team",e.state).then((function(t){console.log(t.data),e.setState({data_team:[].concat(Object(ae.a)(e.state.data_team),[t.data])})})).catch((function(e){console.log(e)}))},e.handleChange=function(t){var n=t.target.value,a=t.target.name;e.setState(Object(I.a)({},a,n))},e.handleUpdate=function(t){t.preventDefault(),m.patch("/api/team/update",{teamId:e.state.teamId,userId:e.state.userId}).then((function(){m.get("/api/team/users").then((function(t){var n=t.data;e.setState({data_team:n})})).catch((function(e){console.log(e)})),m.get("/api/user").then((function(t){var n=t.data.filter((function(e){return 0===e.team.length}));e.setState({datafiltered:n})}))})).catch((function(e){console.log(e)}))},e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this;m.get("/api/team/users").then((function(t){var n=t.data;e.setState({data_team:n})})).catch((function(e){console.log(e)})),m.get("/api/user").then((function(t){var n=t.data.filter((function(e){return 0===e.team.length}));e.setState({datafiltered:n})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Team Management Page"}),Object(a.jsx)("div",{children:Object(a.jsx)("ul",{style:{display:"flex",margin:"10px",justifyContent:"center"},children:Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)("li",{style:{margin:"10px"},children:Object(a.jsx)(Ve,{addTeam:this.addTeam,handleChange:this.handleChange,handleSubmit:this.TeamCreateSubmit})}),Object(a.jsx)("li",{style:{margin:"10px"},children:Object(a.jsx)(Ue,{dataFiltered:this.state.datafiltered,dataTeam:this.state.data_team,addUser:this.addUser,handleAddUserSubmit:this.AddUserSubmit,handleChange:this.handleChange})}),Object(a.jsx)("li",{children:Object(a.jsx)(Re,{onSearch:this.handleSearch})})]})})}),Object(a.jsx)("div",{style:{display:"flex",justifyContent:"space-around"},children:this.state.data_team.map((function(t,n){return Object(a.jsx)(r.a.Fragment,{children:Object(a.jsxs)("div",{style:{marginTop:"40px",border:"1px solid",paddingTop:"25px",paddingLeft:"30px",paddingRight:"30px",borderRadius:"20px",borderColor:"".concat(t.title.toLowerCase())},children:[Object(a.jsx)("h3",{children:Object(a.jsxs)("ul",{style:{listStyleType:"none"},children:[t.title," "]},t.id)}),t.userId.map((function(e){return Object(a.jsx)("li",{id:e.id,style:{listStyleType:"none"},children:e.firstName},e.id)})),Object(a.jsx)("br",{}),Object(a.jsx)(We,{data:e.state,onChange:e.handleChange,onSubmit:e.handleUpdate,teamId:t.id}),Object(a.jsx)("br",{}),Object(a.jsx)(v.a,{variant:"contained",color:"secondary",onClick:function(){return e.handleDelete(t.id)},endIcon:Object(a.jsx)(N.a,{children:Object(a.jsx)(ge.a,{})}),children:"Delete"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{})]})})}))})]})}}]),n}(i.Component),Ye=function(e){return Object(a.jsx)(fe,{id:e.match.params.id,push:e.history.push})},Ge=n(117),Je=n.n(Ge),Ke=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={data_team:[]},e.handleSubmit=function(t){t.preventDefault(),console.log(e.state),m.post("/api/event/create",e.state).then((function(t){console.log(t.data),e.setState({data_team:[].concat(Object(ae.a)(e.state.data_team),[t.data])}),window.location.reload()})).catch((function(e){console.log(e)}))},e.handleChange=function(t){var n=t.target.value,a=t.target.name,i=t.currentTarget.getAttribute("data-set");e.setState({color:i}),e.setState(Object(I.a)({},a,n))},e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this;m.get("/api/team/users").then((function(t){var n=t.data;e.setState({data_team:n})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=Je()().format("MM-DD-YYYY");return console.log(e),Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onChange:this.handleChange,onSubmit:this.handleSubmit,children:[Object(a.jsx)(T.a,{id:"outlined-select-currency",label:"Title",type:"text",variant:"outlined",name:"title",onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)(T.a,{id:"datetime-local",label:"start date",type:"datetime-local",name:"start",onChange:this.handleChange,defaultValue:e,InputLabelProps:{shrink:!0}}),Object(a.jsx)("br",{}),Object(a.jsx)(T.a,{id:"datetime-local",label:"End date",name:"end",type:"datetime-local",onChange:this.handleChange,defaultValue:e,InputLabelProps:{shrink:!0}}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(T.a,{id:"outlined-select-currency",label:"Choose a team",select:!0,variant:"outlined",name:"resourceId",onChange:this.handleChange,onClick:this.handleHiddenData,children:this.state.data_team.map((function(e){return Object(a.jsx)(ye.a,{value:e.id.toLowerCase(),"data-set":e.title,children:e.title},e.title.toLowerCase())}))}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(v.a,{variant:"contained",color:"primary",type:"submit",endIcon:Object(a.jsx)(N.a,{children:"add"}),children:"Add"})]})})}}]),n}(i.Component),$e=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={open:!1},e.handleToggle=function(){e.setState({open:!e.state.open})},e}return Object(g.a)(n,[{key:"render",value:function(){var e=this.state.open;return Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a,{variant:"contained",color:"primary",onClick:this.handleToggle,children:"Create an event"}),Object(a.jsxs)(y.a,{open:e,onClose:this.handleToggle,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(k.a,{id:"form-dialog-title",children:"Add"}),Object(a.jsxs)(S.a,{children:[Object(a.jsx)(w.a,{children:"Please fillup the form to add an event"}),Object(a.jsx)(Ke,{})]}),Object(a.jsx)(C.a,{})]})]})}}]),n}(i.Component),Qe=function(e){return Object(a.jsx)("ul",{className:"nav-list-sub",children:Object(a.jsx)(r.a.Fragment,{children:Object(a.jsx)("li",{children:Object(a.jsx)($e,{})})})})},Xe=n(94),Ze=n(83),et=n(118),tt=n(119),nt=n(120),at=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={},e}return Object(g.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onChange:this.props.onChange,onSubmit:this.props.onSubmit,children:[Object(a.jsx)(T.a,{id:"outlined-text-input",label:"The title is : ".concat(this.props.title),type:"text",variant:"outlined",name:"title",InputLabelProps:{shrink:!0},onChange:this.props.onChange}),Object(a.jsx)("br",{}),Object(a.jsx)(T.a,{id:"datetime-local",label:this.props.open&&"Start date was: ".concat(this.props.start.substring(0,19)," "),type:"datetime-local",InputLabelProps:{shrink:!0},name:"start",onChange:this.props.onChange,defaultValue:this.props.CurrentDate}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(T.a,{id:"datetime-local",label:this.props.open&&"Ending date was: ".concat(this.props.end.substring(0,19)),name:"end",type:"datetime-local",onChange:this.props.onChange,InputLabelProps:{shrink:!0}}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(T.a,{id:"outlined-select-currency",label:"Team was: ".concat(this.props.defaultValue),select:!0,variant:"outlined",name:"resourceId",InputLabelProps:{shrink:!0},onChange:this.props.onChange,children:this.props.open&&this.props.data_team.map((function(e){return Object(a.jsx)(ye.a,{value:e.id.toLowerCase(),"data-set":e.title,children:e.title},e.title.toLowerCase())}))}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(v.a,{variant:"contained",color:"primary",type:"submit",endIcon:Object(a.jsx)(N.a,{children:"add"}),children:"Add"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(v.a,{variant:"contained",color:"secondary",onClick:this.props.handleDelete,endIcon:Object(a.jsx)(N.a,{children:Object(a.jsx)(ge.a,{})}),children:"Delete"})]})})}}]),n}(r.a.Component),it=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={open:!1,weekendsVisible:!0,currentEvents:[],resources:[],event:[],eventId:""},e.handleToggle=function(){e.setState({open:!e.state.open})},e.handleChange=function(t){var n,a=t.target.name,i=t.target.value,r=t.currentTarget.getAttribute("data-set");e.setState((n={},Object(I.a)(n,a,i),Object(I.a)(n,"color",r),n))},e.handleSubmit=function(t){t.preventDefault(),m.patch("/api/event/"+e.state.eventId,{title:e.state.title,start:e.state.start,end:e.state.end,resourceId:e.state.resourceId,color:e.state.color}).then((function(){window.location.reload()})).catch((function(e){console.log(e)}))},e.handleDelete=function(){m.delete("api/event/"+e.state.eventId).then((function(e){window.location.reload()})).catch((function(e){console.log(e)}))},e.handleWeekendsToggle=function(){e.setState({weekendsVisible:!e.state.weekendsVisible})},e.handleDateSelect=function(t){console.log(t);var n=prompt("Please enter a new title for your event");t.view.calendar.unselect(),n&&(e.setState({title:n,start:t.startStr,end:t.endStr,resourceId:t.resource._resource.id,color:t.resource._resource.title}),m.post("/api/event/create",e.state).then((function(){window.location.reload()})).catch((function(e){console.log(e)})))},e.handleEventClick=function(t){console.log(t),e.setState({event:t,eventId:t.event._def.publicId}),e.handleToggle()},e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this;Promise.all([m.get("/api/team"),m.get("/api/event")]).then((function(t){var n=Object(ie.a)(t,2),a=n[0],i=n[1];e.setState({currentEvents:i.data,resources:a.data})}))}},{key:"handleUpdate",value:function(e){var t="",n="";null===e.newResource?(t=e.event._def.resourceIds[0],n=e.event.backgroundColor):(t=e.newResource._resource.id,n=e.newResource._resource.title),window.confirm("Do you want to move the event here : ".concat(e.event.start.toISOString()," and affect it to this team : ").concat(n))?(console.log(e),m.patch("/api/event/"+e.event._def.publicId,{title:e.event.title,start:e.event.start,end:e.event.end,resourceId:t,color:n}).then((function(){window.location.reload()})).catch((function(e){console.log(e)}))):(e.revert(),console.log(e))}},{key:"handleResize",value:function(e){console.log(e),window.confirm("Do you want to resize ".concat(e.event.title," starting from : ").concat(e.event.start.toISOString()," and ending to : ").concat(e.event.end.toISOString()))?(console.log(e),m.patch("/api/event/"+e.event._def.publicId,{title:e.event.title,start:e.event.start,end:e.event.end,resourceId:e.event._def.resourceIds[0],color:e.event.backgroundColor}).then((function(){window.location.reload()})).catch((function(e){console.log(e)}))):(e.revert(),console.log(e))}},{key:"render",value:function(){var e,t,n,i=this,r=this.state.open;(console.log("resourcees ==>",this.state.resources),console.log("STATE ==>",this.state.currentEvents),null===(e=this.state.currentEvents[0])||void 0===e?void 0:e.id)&&console.log((null===(t=this.state.currentEvents[0])||void 0===t?void 0:t.resourceId)===(null===(n=this.state.resources[1])||void 0===n?void 0:n.id));return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{style:{margin:"10px"},children:this.state.resources.length&&Object(a.jsx)(Xe.a,{plugins:[Ze.b,et.a,tt.a,nt.a],headerToolbar:{left:"prev,next today",center:"title",right:"resourceTimelineDay,resourceTimelineWeek,resourceTimelineMonth"},initialView:"resourceTimeline",editable:!0,resourceLabelText:"roro",nowIndicator:!0,height:"auto",selectable:!0,eventDurationEditable:!0,eventResizableFromStart:!0,selectMirror:!0,dayMaxEvents:!0,schedulerLicenseKey:"CC-Attribution-NonCommercial-NoDerivatives",weekends:this.state.weekendsVisible,initialEvents:this.state.currentEvents,resources:this.state.resources,select:this.handleDateSelect,eventContent:rt,eventClick:function(e){i.handleEventClick(e)},eventResize:function(e){i.handleResize(e)},eventDrop:function(e){i.handleUpdate(e)},eventsSet:this.handleEvents})}),Object(a.jsx)("div",{children:this.renderSidebar()}),Object(a.jsxs)(y.a,{open:r,onClose:this.handleToggle,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(k.a,{id:"form-dialog-title",children:"Edit or delete this event"}),Object(a.jsx)(S.a,{children:Object(a.jsx)(at,{open:this.state.open,onChange:this.handleChange,onSubmit:this.handleSubmit,handleDelete:this.handleDelete,title:r&&this.state.event.event._def.title,start:r&&this.state.event.event._instance.range.start.toISOString(),end:r&&this.state.event.event._instance.range.end.toISOString(),data_team:r&&this.state.resources,defaultValue:r&&this.state.event.event._def.ui.backgroundColor})}),Object(a.jsx)(C.a,{})]})]})}},{key:"renderSidebar",value:function(){return Object(a.jsxs)("div",{className:"demo-app-sidebar",children:[Object(a.jsx)("div",{className:"demo-app-sidebar-section"}),Object(a.jsx)("div",{className:"demo-app-sidebar-section"}),Object(a.jsxs)("div",{className:"demo-app-sidebar-section",children:[Object(a.jsxs)("h2",{children:["All Events (",this.state.currentEvents.length,")"]}),Object(a.jsx)("ul",{children:this.state.currentEvents.map(ct)})]})]})}}]),n}(r.a.Component);function rt(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("b",{children:e.timeText}),Object(a.jsx)("i",{children:e.event.title})]})}function ct(e){return Object(a.jsxs)("li",{children:[Object(a.jsx)("b",{children:Object(Xe.b)(e.start,{year:"numeric",month:"short",day:"numeric"})}),Object(a.jsx)("i",{children:e.title})]},e.id)}var st=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(Qe,{}),Object(a.jsx)(it,{})]})}}]),n}(r.a.Component),ot=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)("h1",{children:"Event View"})})}}]),n}(r.a.Component);var lt=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(U,{}),Object(a.jsxs)(o.d,{children:[Object(a.jsx)(o.b,{exact:!0,path:"/",component:Q}),Object(a.jsx)(o.b,{exact:!0,path:"/signin",component:X}),Object(a.jsx)(o.b,{exact:!0,path:"/signup",component:Z}),Object(a.jsx)(te,{exact:!0,path:"/user",component:Ae}),Object(a.jsx)(te,{exact:!0,path:"/team",component:He}),Object(a.jsx)(o.b,{exact:!0,path:"/test",component:Ke}),Object(a.jsx)(te,{exact:!0,path:"/scheduler",component:st}),Object(a.jsx)(o.b,{exact:!0,path:"/user/edit/:id",component:Ye}),Object(a.jsx)(o.b,{exact:!0,path:"/event/delete/:id",component:ot}),Object(a.jsx)(te,{exact:!0,path:"/profile",component:ne})]})]})},dt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,266)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))},ut=function(e){Object(f.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={user:null,isLoggedIn:!1,isLoading:!0},e.setUser=function(t){e.setState({user:t,isLoggedIn:!0})},e.removeUser=function(){e.setState({user:null,isLoggedIn:!1})},e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this;m.isLoggedIn().then((function(t){e.setState({user:t,isLoggedIn:!0,isLoading:!1})})).catch((function(t){e.setState({user:null,isLoggedIn:!1,isLoading:!1})}))}},{key:"render",value:function(){var e={user:this.state.user,setUser:this.setUser,removeUser:this.removeUser,isLoggedIn:this.state.isLoggedIn,isLoading:this.state.isLoading};return Object(a.jsx)(u.Provider,{value:e,children:this.props.children})}}]),n}(i.Component);n(179),n(180),n(181);s.a.render(Object(a.jsx)(l.a,{children:Object(a.jsx)(ut,{children:Object(a.jsx)(lt,{})})}),document.getElementById("root")),dt()}},[[182,1,2]]]);
//# sourceMappingURL=main.01115274.chunk.js.map